/*
 Copyright (c)2006-2018 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"==typeof akeeba)var akeeba={};var AKEEBA_ANALYZE_SUCCESS=1,AKEEBA_ANALYZE_WARNING=0,AKEEBA_ANALYZE_FAILURE=-1;
akeeba.System.documentReady(function(){var c=document.getElementById("log"),f=document.getElementById("analyze-log"),e=document.getElementById("download-log"),h=document.getElementById("output-plain");c.removeAttribute("disabled");akeeba.System.addEventListener(c,"change",function(){var a=this.options[this.selectedIndex].value;f.style.display="none";e.style.display="none";a&&(f.style.display="inline-block",e.style.display="inline-block")});akeeba.System.addEventListener(e,"click",function(a){a.preventDefault?
a.preventDefault():a.returnValue=!1;a=akeeba.System.data.get(this,"url");window.location=a.replace("[TAG]",c.options[c.selectedIndex].value)});akeeba.System.addEventListener(f,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;if(!0==akeeba.System.data.get(this,"started",!1))return!1;this.className="akeeba-btn--dark";akeeba.System.data.set(this,"started",!0);c.setAttribute("disabled","disabled");document.getElementById("alice-messages").innerHTML="";h.style.display="none";(new AkeebaStepper({onBeforeStart:function(a){var c=
document.getElementById("log");a.data.log=c.options[c.selectedIndex].value},onComplete:function(a){var e=[],q=document.getElementById("alice-messages");a=JSON.parse(a.Results);for(var r=Joomla.JText._("COM_AKEEBA_ALICE_SUCCESSS"),s=Joomla.JText._("COM_AKEEBA_ALICE_WARNING"),t=Joomla.JText._("COM_AKEEBA_ALICE_ERROR"),k=0;k<a.length;k++){var d=a[k],l=document.createElement("tr"),b="akeeba-label--success",m=r;d.result==AKEEBA_ANALYZE_WARNING?(m=s,b="akeeba-label--warning"):d.result==AKEEBA_ANALYZE_FAILURE&&
(m=t,b="akeeba-label--failure");var g=document.createElement("td");g.innerHTML=d.check;l.appendChild(g);var p=document.createElement("td"),n=document.createElement("span");n.className=b;n.innerHTML=m;p.appendChild(n);l.appendChild(p);d.result!=AKEEBA_ANALYZE_SUCCESS&&(e.push({check:d.raw.check,error:d.raw.error}),b=document.createElement("div"),b.className="akeeba-panel--red",g.appendChild(b),b=document.createElement("p"),b.innerHTML=d.error,g.appendChild(b),b=document.createElement("p"),b.innerHTML=
"<em>"+d.solution+"</em>",g.appendChild(b));q.appendChild(l)}document.getElementById("stepper-progress-pane").style.display="none";document.getElementById("stepper-complete").style.display="block";f.className="akeeba-btn--primary";akeeba.System.data.set(f,"started",!1);c.removeAttribute("disabled");0<e.length&&akeeba.Ajax.ajax("index.php?option=com_akeeba&view=Alice&task=translate",{data:{keys:JSON.stringify(e)},success:function(a){a=a.match(/###(.*?)###/);if(void 0!==a[1]){a=JSON.parse(a[1]);for(var b=
"------ BEGIN OF ALICE RAW OUTPUT -----\n",c=0;c<a.length;c++)d=a[c],b+="[b]"+d.check+"[/b]\n"+d.error+"\n\n";h.querySelector("textarea").innerHTML=b+"------ END OF ALICE RAW OUTPUT -----\n";h.style.display="block"}}})}})).init();return!1});akeeba.System.triggerEvent(c,"change");document.getElementById("log").options[document.getElementById("log").selectedIndex].value&&akeeba.System.triggerEvent(f,"click")}); //# sourceMappingURL=Alice.min.map
