/*
 Copyright (c)2006-2018 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license   GNU General Public License version 3, or later
*/
if("undefined"==typeof akeeba)var akeeba={};"undefined"==typeof akeeba.System&&(akeeba.System={},akeeba.System.documentReady=function(a,b){},akeeba.System.notification={hasDesktopNotification:!1,iconURL:""},akeeba.System.params={AjaxURL:"",useIFrame:!1,errorCallback:akeeba.System.modalErrorHandler,iFrame:null,iFrameCallbackError:null,iFrameCallbackSuccess:null,password:"",errorDialogId:"errorDialog",errorDialogMessageId:"errorDialogPre"},akeeba.System.modalDialog=null);
akeeba.System.defaultErrorHandler=function(a){alert("An error has occurred\n"+a)};akeeba.System.modalErrorHandler=function(a){var b=document.getElementById(akeeba.System.params.errorDialogId),c="error";null!=b&&(document.getElementById(akeeba.System.params.errorDialogMessageId).innerHTML=a,c=b.innerHTML);akeeba.Modal.open({content:c,width:"80%"})};akeeba.System.params.errorCallback=akeeba.System.modalErrorHandler;
akeeba.System.doIframeCall=function(a,b,c){akeeba.System.params.iFrameCallbackSuccess=b;akeeba.System.params.iFrameCallbackError=c;akeeba.System.params.iFrame=document.createElement("iframe");document.getElementById("response-timer");akeeba.System.params.iFrame.style.display="none";akeeba.System.params.iFrame.style.visibility="hidden";akeeba.System.params.iFrame.style.height="1px";akeeba.System.params.iFrame.setAttribute("onload",akeeba.System.iframeCallback);a=akeeba.System.params.AjaxURL+"&"+akeeba.Ajax.interpolateParameters(a);
akeeba.System.params.iFrame.setAttribute("src",a)};
akeeba.System.iframeCallback=function(){var a=null,a=akeeba.System.params.iFrame.contentDocument?akeeba.System.params.iFrame.contentDocument:akeeba.System.params.iFrame.contentWindow.document,a=a.body.innerHTML;akeeba.System.params.iFrame.parentNode.removeChild(akeeba.System.params.iFrame);akeeba.System.params.iFrame=null;var b="",c=a.indexOf("###");if(-1==c)a="Invalid AJAX data: "+a,null==akeeba.System.params.iFrameCallbackError?null!=akeeba.System.params.errorCallback&&akeeba.System.params.errorCallback(a):
akeeba.System.params.iFrameCallbackError(a);else{0!=c?(a.substr(0,c),b=a.substr(c)):b=a;b=b.substr(3);c=b.lastIndexOf("###");b=b.substr(0,c);try{var d=JSON.parse(b)}catch(f){a=f.message+"\n<br/>\n<pre>\n"+b+"\n</pre>";null==akeeba.System.params.iFrameCallbackError?null!=akeeba.System.params.errorCallback&&akeeba.System.params.errorCallback(a):akeeba.System.params.iFrameCallbackError(a);return}akeeba.System.params.iFrameCallbackSuccess(d)}};
akeeba.System.doAjax=function(a,b,c,d,f){if(akeeba.System.params.useIFrame)akeeba.System.doIframeCall(a,b,c);else{null==d&&(d=!0);var e=(new Date).getTime()/1E3,g=parseInt(e,10),e=Math.round(1E3*(e-g))/1E3;a._cacheBustingJunk=e;null==f&&(f=6E5);a={type:"POST",url:akeeba.System.params.AjaxURL,cache:!1,data:a,timeout:f,success:function(a){var e="",d=a.indexOf("###");if(-1==d)a=akeeba.System.sanitizeErrorMessage(a),a="Invalid AJAX data: "+a,null==c?null!=akeeba.System.params.errorCallback&&akeeba.System.params.errorCallback(a):
c(a);else{0!=d?(a.substr(0,d),e=a.substr(d)):e=a;e=e.substr(3);d=e.lastIndexOf("###");e=e.substr(0,d);try{var f=JSON.parse(e)}catch(g){e=akeeba.System.sanitizeErrorMessage(e);a=g.message+"\n<br/>\n<pre>\n"+e+"\n</pre>";null==c?null!=akeeba.System.params.errorCallback&&akeeba.System.params.errorCallback(a):c(a);return}b(f)}},error:function(a,b,e){e=a.responseText?a.responseText:"";var d="<strong>AJAX Loading Error</strong><br/>HTTP Status: "+a.status+" ("+a.statusText+")<br/>",d=d+"Internal status: "+
b+"<br/>XHR ReadyState: "+a.readyState+"<br/>",d=d+"Raw server response:<br/>"+akeeba.System.sanitizeErrorMessage(e);null==c?null!=akeeba.System.params.errorCallback&&akeeba.System.params.errorCallback(d):c(d)}};d?akeeba.Ajax.enqueue(a):akeeba.Ajax.ajax(a)}};akeeba.System.sanitizeErrorMessage=function(a){-1<a.indexOf("<script")&&(a="(HTML containing script tags)");return a};
akeeba.System.notification.askPermission=function(){akeeba.System.notification.hasDesktopNotification&&void 0!=window.Notification&&"default"==window.Notification.permission&&window.Notification.requestPermission()};
akeeba.System.notification.notify=function(a,b,c){void 0!=window.Notification&&"granted"==window.Notification.permission&&(void 0==c&&(c=5E3),void 0==b&&(body=""),a=new window.Notification(a,{body:b,icon:akeeba.System.notification.iconURL}),0<c&&setTimeout(function(a){return function(){a.close()}}(a),c))};
akeeba.System.data=function(){var a=0,b={};return{set:function(c,d,f){if(c.dataset)c.dataset[d]=f,null==f&&delete c.dataset[d];else{var e;void 0===c.myCustomDataTag&&(e=a++,c.myCustomDataTag=e);"undefined"==typeof b[e]&&(b[e]={});b[e][d]=f;var g="data-"+d.split(/(?=[A-Z])/).join("-").toLowerCase();c.setAttribute&&c.setAttribute(g,f);if(null==f)try{delete b[e][d],c.removeAttribute(g)}catch(h){b[e][d]=null}}},get:function(a,d,f){if(a.dataset)return"undefined"==typeof a.dataset[d]&&(a.dataset[d]=f),
a.dataset[d];"undefined"==typeof f&&(f=null);"undefined"==typeof b[a.myCustomDataTag]&&(b[a.myCustomDataTag]={});var e="data-"+d.split(/(?=[A-Z])/).join("-").toLowerCase();"undefined"!==typeof a[e]&&(b[a.myCustomDataTag][d]=a[e]);"undefined"==typeof b[a.myCustomDataTag][d]&&this.set(a,d,f);return b[a.myCustomDataTag][d]}}}();
akeeba.System.addEventListener=function(a,b,c){function d(a){var b=c.apply(this,arguments);!1===b&&(a.stopPropagation()&&a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1);return b}function f(){var b=c.call(a,window.event);!1===b&&(window.event.returnValue=!1,window.event.cancelBubble=!0);return b}"string"===typeof a&&(a=document.getElementById(a));null!=a&&"object"==typeof a&&a instanceof Element&&(a.addEventListener?a.addEventListener(b,d,!1):a.attachEvent("on"+b,f))};
akeeba.System.removeEventListener=function(a,b,c){"string"===typeof a&&(a=document.getElementById(a));null!=a&&"object"==typeof a&&a instanceof Element&&(a.removeEventListener?a.removeEventListener(b,c):a.detachEvent("on"+b,c))};
akeeba.System.triggerEvent=function(a,b){if("undefined"!=typeof a&&null!==a&&("string"===typeof a&&(a=document.getElementById(a)),"object"==typeof a&&a instanceof Element))if("function"===typeof window.jQuery)window.jQuery(a).trigger(b);else if(document.fireEvent&&"undefined"==typeof window.Event)a.fireEvent("on"+b);else{var c=null,c=document.createEvent("Event");c.initEvent(b,!0,!0);a.dispatchEvent(c)}};
(function(a,b){function c(){if(!e){e=!0;for(var a=0;a<f.length;a++)f[a].fn.call(window,f[a].ctx);f=[]}}function d(){"complete"===document.readyState&&c()}b=b||akeeba.System;var f=[],e=!1,g=!1;b[a||"documentReady"]=function(a,b){e?setTimeout(function(){a(b)},1):(f.push({fn:a,ctx:b}),"complete"===document.readyState||!document.attachEvent&&"interactive"===document.readyState?setTimeout(c,1):g||(g=!0,document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",
c,!1)):(document.attachEvent("onreadystatechange",d),window.attachEvent("onload",c))))}})("documentReady",akeeba.System);akeeba.System.addClass=function(a,b){if(a&&a.className){var c=a.className.split(" ");"string"==typeof b&&(b=b.split(" "));c=array_merge(c,b);a.className="";for(property in c)c.hasOwnProperty(property)&&(a.className+=c[property]+" ");a.className.trim&&(a.className=a.className.trim())}};
akeeba.System.removeClass=function(a,b){if(a&&a.className){var c=a.className.split(" ");"string"==typeof b&&(b=b.split(" "));c=array_diff(c,b);a.className="";for(property in c)c.hasOwnProperty(property)&&(a.className+=c[property]+" ");a.className.trim&&(a.className=a.className.trim())}};akeeba.System.hasClass=function(a,b){if(a&&a.className){var c=a.className.split(" ");for(i=0;i<c.length;i++)if(c[i]==b)return!0;return!1}};
akeeba.System.toggleClass=function(a,b){akeeba.System.hasClass(a,b)?akeeba.System.removeClass(a,b):akeeba.System.addClass(a,b)}; //# sourceMappingURL=System.min.map
